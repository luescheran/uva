This is a simple ad hoc/simulation problem.

Implemented with bitset for speed/space efficiency.
